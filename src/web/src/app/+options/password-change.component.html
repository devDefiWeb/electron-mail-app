<fieldset [disabled]="processing$ | async">
    <form [formGroup]="form" (ngSubmit)="submit()" novalidate class="form-group">
        <div class="form-group required">
            <label>Current Password</label>
            <input type="password" class="form-control" formControlName="password"
                   [ngClass]="password.dirty ? {
                        'is-invalid': password.invalid,
                        'is-valid': password.valid
                    } : {}">
        </div>
        <div class="form-row">
            <div class="form-group required col-md-6">
                <label>New Password</label>
                <input type="password" class="form-control" formControlName="newPassword"
                       [ngClass]="newPassword.dirty ? {
                           'is-invalid': newPassword.invalid,
                           'is-valid': newPassword.valid
                       } : {}">
            </div>
            <div class="form-group required col-md-6">
                <label>New Password Confirm</label>
                <input type="password" class="form-control" formControlName="newPasswordConfirm"
                       [ngClass]="newPasswordConfirm.dirty ? {
                            'is-invalid': newPasswordConfirm.invalid,
                            'is-valid': newPasswordConfirm.valid
                        } : {}">
                <div class="invalid-feedback" *ngIf="newPasswordConfirm.invalid && newPasswordConfirm.errors?.mismatch">
                    Passwords don't match.
                </div>
            </div>
        </div>
        <button class="btn btn-primary btn-block" type="submit" [disabled]="form.invalid">
            <i class="fa fa-spinner fa-pulse fa-fw" *ngIf="processing$ | async"></i>
            Change Password
        </button>
    </form>
</fieldset>
